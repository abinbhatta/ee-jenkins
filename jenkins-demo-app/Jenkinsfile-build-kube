podTemplate(label: 'docker',
  containers: [containerTemplate(name: 'docker', image: 'dtr.olly.dtcntr.net/admin/jenkins-slave:0.1', ttyEnabled: true, command: 'cat')],
  volumes: [hostPathVolume(hostPath: '/var/run/docker.sock', mountPath: '/var/run/docker.sock')]
  ) {
      
  node('docker') {
    stage('Build Docker image') {
      git 'https://github.com/jenkinsci/docker-jnlp-slave.git'
      container('docker') {
        sh "docker version"
      }
    }
  }
}
